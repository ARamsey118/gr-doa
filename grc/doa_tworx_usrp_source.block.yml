# auto-generated by grc.converter

id: doa_tworx_usrp_source
label: TwoRX USRP Source
category: '[DoA]'
flags:
- throttle

parameters:
-   id: samp_rate
    label: Samp Rate
    dtype: float
    default: '1000000'
-   id: center_freq
    label: Center Freq (Hz)
    dtype: float
    default: '2400000000'
-   id: gain
    label: Gain Value
    dtype: float
    default: '40'
-   id: sources
    label: Num Channels
    dtype: int
    default: '4'
    hide: part
-   id: addresses
    label: Device Address 0
    dtype: string
    default: '"addr0=192.168.20.3, addr1=192.168.110.2"'
-   id: antenna
    label: Antenna
    dtype: string
    options: [TX/RX, RX2, Toggle]
    option_labels: [TX/RX, RX2, Toggle]
    default: RX2
outputs:
-   domain: stream
    dtype: complex
    vlen: 1
    multiplicity: ${ sources }
asserts:
- ${ sources > 1 }
- ${ sources != 3 }
- ${ sources < 5 }

templates:
    imports: import doa
    make: |-
        doa.tworx_usrp_source(
            samp_rate=${samp_rate},
            center_freq=${center_freq},
            gain=${gain},
            sources=${sources},
            addresses=${addresses},
            antenna=${antenna},
        )
    callbacks:
    - set_samp_rate(${samp_rate})
    - set_center_freq(${center_freq})
    - set_gain(${gain})
    - set_sources(${sources})

documentation: "This block is a wrapper to the USRP source block when using two X310\
    \ with 2 UBX daughtercards. \nArgs:\n$samp_rate: Sample rate\n$center_freq: Center\
    \ frequency\n$gain: Gain to be applied\n$sources: Number of input streams\n$address0:\
    \ Device address\n$address1: Device address\n$antenna: Antenna input to use"

file_format: 1
